# Telegram Homework Bot

Асинхронный Telegram бот для анонимного оформления заказов на выполнение учебных работ. Бот собирает данные от студентов и пересылает заказы в закрытую группу исполнителей, где каждый заказ можно принять или отклонить с указанием причины.

## Возможности

- Пошаговое оформление заказа с проверкой введённых данных.
- Сохранение заказов и состояний пользователей в SQLite.
- Отправка заказов в группу исполнителей с inline-кнопками «Принять» / «Отклонить».
- Обработка вложений (файлов, фотографий, аудио/видео).
- Уведомления студенту о статусе заказа.
- Логирование ошибок и обработка исключений.

## Стек

- Python 3.10+
- [python-telegram-bot 20.x](https://docs.python-telegram-bot.org/en/v20.7/)
- SQLite
- python-dotenv

## Подготовка окружения

1. Установите зависимости:

   ```bash
   pip install -r requirements.txt
   ```

2. Создайте бота через [@BotFather](https://t.me/BotFather) и получите `BOT_TOKEN`.

3. Создайте Telegram-группу, добавьте бота и выдайте ему права администратора на отправку сообщений.

4. Узнайте `GROUP_CHAT_ID` (например, с помощью [@userinfobot](https://t.me/userinfobot)).

5. Заполните файл `inputapi.env`:

   ```env
   BOT_TOKEN=ваш_токен_от_BotFather
   GROUP_CHAT_ID=-100xxxxxxxxxx
   ```

6. Запустите бота:

   ```bash
   python bot.py
   ```

## Структура проекта

```
telegram_homework_bot/
├── bot.py
├── config.py
├── database.py
├── handlers.py
├── keyboards.py
├── inputapi.env
├── orders.db          # создаётся автоматически при первом запуске
├── README.md
└── requirements.txt
```

## Основные команды

- `/start` — начало оформления заказа.
- `/help` — краткая инструкция.
- `/cancel` — отмена текущего заказа.

## Примечания

- Все текстовые сообщения и подсказки вынесены в константы.
- Обработка файлов реализована через сохранение `file_id` и пересылку в группу.
- Причина отклонения заказа обязательна: бот запрашивает её у исполнителя.
- При возникновении ошибок бот логирует их и отправляет понятное сообщение пользователю.

# Domashki
